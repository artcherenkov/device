window.initSlider=(e,t,n,o,r,s=!1)=>{let i=o[0],a=r[0];const l=n=>{var o,r;n.preventDefault(),o=i,r=n.target,s?o.parentNode.classList.remove(t):o.classList.remove(t),o=r,s?o.parentNode.classList.add(t):o.classList.add(t),i=o,c.map((t=>{i===t.control&&(a=((t,n)=>(t.classList.remove(e),(t=n).classList.add(e),t))(a,t.slide))}))};let c=[];for(let e=0;e<o.length;e++)c.push({control:o[e],slide:r[e]});for(let e of o)e.addEventListener("click",l,!0)},function(){const e=document.querySelector(".catalog-menu");document.querySelector(".page-header__catalog-rollup-btn").addEventListener("click",(()=>{e.classList.toggle("visually-hidden")}))}(),function(){const e=document.querySelector(".page-header__search-input");e.addEventListener("input",(()=>{e.value?e.classList.add("page-header__search-input--with-content"):e.classList.remove("page-header__search-input--with-content")}))}(),function(){const e="popup--opened",t=document.querySelector(".page-main__contact-map-btn"),n=document.querySelector(".map.popup"),o=n.querySelector(".popup__close-btn"),r=()=>{n.classList.remove(e)},s=t=>{27===t.keyCode&&n.classList.contains(e)&&(t.preventDefault(),n.classList.remove(e),window.removeEventListener("keydown",s))};t.addEventListener("click",(t=>{t.preventDefault(),n.classList.add(e),o.addEventListener("click",r),window.addEventListener("keydown",s)}))}(),function(){const e="popup--opened",t="popup__input--error",n=document.querySelector(".page-main__contact-more"),o=document.querySelector(".popup"),r=o.querySelector(".popup form"),s=o.querySelector(".popup__close-btn"),i=r.querySelectorAll(".popup__input");let a=[];const l=({input:e=null,fullRemove:t=!1})=>{a&&(a=a.filter((n=>((t||n.input===e)&&c(n.error,n.input),!t&&n.input!==e))))},c=(e,n)=>{e.remove(),n.classList.remove(t)},d=e=>{const n=(()=>{const e=document.createElement("span");return e.textContent="Тут пусто :(",e.classList.add("popup__error-message"),e})();a.push({input:e,error:n}),e.parentNode.appendChild(n),e.classList.add(t)},p=()=>{o.classList.remove(e),r.reset(),l({fullRemove:!0})},u=t=>{27===t.keyCode&&o.classList.contains(e)&&(t.preventDefault(),o.classList.remove(e),window.removeEventListener("keydown",u))},v=()=>{l({fullRemove:!0});for(let e of i)e.value||d(e);return Boolean(a.length)},m=e=>()=>{l({input:e}),e.classList.remove(t),e.value||d(e)};r.addEventListener("submit",(e=>{v()&&e.preventDefault()}));for(let e of i)e.required=!1,e.addEventListener("input",m(e));n.addEventListener("click",(t=>{t.preventDefault(),r.reset(),o.classList.add(e),s.addEventListener("click",p),window.addEventListener("keydown",u)}))}(),function(){const e=document.querySelector(".page-main__slider"),t=e.querySelectorAll(".page-main__slider-toggle"),n=e.querySelectorAll(".slide");window.initSlider("slide--active","page-main__slider-toggle--active",e,t,n)}(),function(){const e=document.querySelector(".page-main__services-wrapper"),t=e.querySelectorAll(".page-main__services-item a"),n=e.querySelectorAll(".page-main__services-body");window.initSlider("page-main__services-body--active","page-main__services-item--active",e,t,n,!0)}();