window.initSlider=(e,t,r,n,o,s=!1)=>{let i=n[0],a=o[0];const l=r=>{var n,o;r.preventDefault(),n=i,o=r.target,s?n.parentNode.classList.remove(t):n.classList.remove(t),n=o,s?n.parentNode.classList.add(t):n.classList.add(t),i=n,c.map((t=>{i===t.control&&(a=((t,r)=>(t.classList.remove(e),(t=r).classList.add(e),t))(a,t.slide))}))};let c=[];for(let e=0;e<n.length;e++)c.push({control:n[e],slide:o[e]});for(let e of n)e.addEventListener("click",l,!0)},function(){const e=document.querySelector(".catalog-menu");document.querySelector(".page-header__catalog-rollup-btn").addEventListener("click",(()=>{e.classList.toggle("visually-hidden")}))}(),function(){const e=document.querySelector(".page-header__search-input");e.addEventListener("input",(()=>{e.value?e.classList.add("page-header__search-input--with-content"):e.classList.remove("page-header__search-input--with-content")}))}(),function(){const e="popup--opened",t=document.querySelector(".page-main__contact-map-btn"),r=document.querySelector(".map.popup"),n=r.querySelector(".popup__close-btn"),o=()=>{r.classList.remove(e)},s=t=>{27===t.keyCode&&r.classList.contains(e)&&(t.preventDefault(),r.classList.remove(e),window.removeEventListener("keydown",s))};t.addEventListener("click",(t=>{t.preventDefault(),r.classList.add(e),n.addEventListener("click",o),window.addEventListener("keydown",s)}))}(),function(){const e="popup--opened",t="popup__input--error",r=document.querySelector(".page-main__contact-more"),n=document.querySelector(".popup"),o=n.querySelector(".popup form"),s=n.querySelector(".popup__close-btn"),i=o.querySelectorAll(".popup__input");let a=[];const l=({input:e=null,fullRemove:t=!1})=>{a&&(a=a.filter((r=>((t||r.input===e)&&c(r.error,r.input),!t&&r.input!==e))))},c=(e,r)=>{e.remove(),r.classList.remove(t)},d=e=>{const r=(()=>{const e=document.createElement("span");return e.textContent="Тут пусто :(",e.classList.add("popup__error-message"),e})();a.push({input:e,error:r}),e.parentNode.appendChild(r),e.classList.add(t)},p=()=>{n.classList.remove(e),n.classList.remove("popup--error"),o.reset(),l({fullRemove:!0})},u=t=>{27===t.keyCode&&n.classList.contains(e)&&(t.preventDefault(),n.classList.remove(e),window.removeEventListener("keydown",u))},m=()=>{l({fullRemove:!0});for(let e of i)e.value||d(e);return Boolean(a.length)&&n.classList.add("popup--error"),Boolean(a.length)},v=e=>()=>{l({input:e}),e.classList.remove(t),e.value||d(e)};o.addEventListener("submit",(e=>{m()&&e.preventDefault()}));for(let e of i)e.required=!1,e.addEventListener("input",v(e));r.addEventListener("click",(t=>{t.preventDefault(),o.reset(),n.classList.add(e),s.addEventListener("click",p),window.addEventListener("keydown",u)}))}(),function(){const e=document.querySelectorAll(".page-main__product-controls"),t=document.querySelectorAll(".page-main__product-image");let r=!1;document.addEventListener("keydown",(n=>{9===n.keyCode&&(r||(Array.from(e).map((e=>e.style="visibility: visible")),Array.from(t).map((e=>e.style="opacity: 0.7"))),r=!0)})),document.addEventListener("mouseover",(()=>{r&&(Array.from(e).map((e=>e.style="visibility: hidden")),Array.from(t).map((e=>e.style="")),Array.from(e).map((e=>e.style=""))),r=!1}))}(),function(){const e=document.querySelector(".page-main__slider"),t=e.querySelectorAll(".page-main__slider-toggle"),r=e.querySelectorAll(".slide");window.initSlider("slide--active","page-main__slider-toggle--active",e,t,r)}(),function(){const e=document.querySelector(".page-main__services-wrapper"),t=e.querySelectorAll(".page-main__services-item a"),r=e.querySelectorAll(".page-main__services-body");window.initSlider("page-main__services-body--active","page-main__services-item--active",e,t,r,!0)}();